小程序前端开发指南

本指南旨在为 AI Tutor 项目并行开发小程序前端提供一套完整的开发计划和策略。

## 核心策略

采用 **`uni-app`** 框架。鉴于项目现有 Web 前端基于 Vue.js，`uni-app` 能够利用 Vue.js 语法进行跨平台开发，覆盖所有主流小程序（如微信、支付宝）及 App。该策略能最大化复用开发经验和部分业务逻辑代码，降低学习成本。

---

## 开发计划

### 第一阶段：项目初始化与技术选型 (预计 1-2 天)

1.  **创建新目录**:
    - 在项目根目录下，创建一个名为 `mini_program` 的新文件夹，与现有的 `frontend` 文件夹并列，以保持两个前端项目的物理隔离和独立性。

2.  **初始化 `uni-app` 项目**:
    - 在 `mini_program` 目录中，通过 `uni-app` 官方脚手架创建一个新的项目。
    - **技术栈选择**: 务必选择 **Vue 3** 和 **TypeScript** 版本，以和现有 Web 项目保持技术栈统一。

3.  **选择并集成 UI 组件库**:
    - 现有的 `Element Plus` 是桌面端 UI 库，不适用于小程序环境。
    - **推荐选型**: `uView UI` 或 `Thor UI`。这两个库专为 `uni-app` 设计，组件丰富，社区支持良好，能显著提升开发效率和界面美观度。

### 第二阶段：核心配置与基础搭建 (预计 2-3 天)

1.  **配置网络请求**:
    - 基于 `uni.request` API 进行封装，创建一个类似于现有项目中 `axios` 实例的统一请求模块。
    - **功能**: 配置基础 URL 指向 FastAPI 后端，并建立统一的请求拦截和响应处理机制，为后续的身份认证（Token）和全局错误处理做准备。

2.  **设置环境变量**:
    - 在 `mini_program` 项目中参照 `frontend` 项目，创建 `.env.development` 和 `.env.production` 文件，用于管理不同环境下的后端 API 地址及其他敏感配置。

3.  **规划页面路由**:
    - 在 `uni-app` 的核心路由配置文件 `pages.json` 中，定义小程序需要的所有页面路径、窗口表现及导航栏样式。

4.  **创建 TabBar**:
    - 根据小程序的核心功能，在 `pages.json` 中配置底部 TabBar，通常包含“首页”、“学习”、“我的”等主要功能入口。

### 第三阶段：页面重构与功能实现 (核心开发阶段)

1.  **识别核心页面**:
    - 分析现有 Web 应用，确定需要在小程序中优先实现的核心功能页面，例如：
        - `HomeworkUploadView` (作业上传)
        - `AiChatView` (AI 智能辅导)
        - `DashboardView` (学习仪表盘)
        - `HistoryView` (批改历史)
        - `StudentManagementView` (可简化为个人信息管理)

2.  **页面重构策略**:
    - **视图层 (`<template>`)**: **需要完全重写**。将原有的 HTML 标签 (`div`, `span`, `img`) 替换为小程序对应的内置组件 (`view`, `text`, `image`)，并使用新选择的 UI 库组件来重新构建用户界面。
    - **逻辑层 (`<script setup>`)**: **大部分可以复用**。组件的状态管理、数据处理方法、以及调用后端 API 的业务逻辑，均可从现有 `.vue` 文件中平移过来，仅需根据 `uni-app` 的 API 做少量适配。
    - **样式层 (`<style>`)**: **需要部分重写**。`uni-app` 支持大部分标准 CSS，但小程序环境不支持所有选择器。此外，尺寸单位建议统一使用 `rpx` (responsive pixel)，以确保在不同尺寸的移动设备上获得一致的视觉表现。

### 第四阶段：调试、测试与发布

1.  **开发调试**:
    - **标准工具链**: **VS Code** (配合 `uni-app` 官方插件) + **微信开发者工具**。
    - **工作流程**: 在 VS Code 中编写和组织代码，通过 `npm` 脚本将代码实时编译到 `dist` 目录，然后在微信开发者工具中导入该目录，进行界面预览、逻辑调试和性能分析。

2.  **联调测试**:
    - 将小程序前端与 FastAPI 后端服务进行端到端联调，确保所有数据请求和业务流程闭环。

3.  **打包发布**:
    - 完成开发和测试后，通过 `uni-app` 的构建命令 (`npm run build:mp-weixin`) 生成小程序的最终代码包，然后在微信公众平台上传并提交审核。
