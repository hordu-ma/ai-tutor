# AI Tutor - å­¦æƒ…ç®¡ç†AIåŠ©æ•™ ğŸ“

åŸºäºAIçš„ä¸­å­¦ç”Ÿæ•°å­¦ã€ç‰©ç†å’Œè‹±è¯­å­¦æƒ…ç®¡ç†ç³»ç»Ÿã€‚é€šè¿‡OCRè¯†åˆ«ä½œä¸šå†…å®¹ï¼ŒAIæ‰¹æ”¹å’ŒçŸ¥è¯†ç‚¹åˆ†æï¼Œä¸ºå­¦ç”Ÿæä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ å»ºè®®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

- **Python 3.12+**
- **uv åŒ…ç®¡ç†å™¨** (é¡¹ç›®ä¾èµ–ç®¡ç†)
- **Tesseract OCR** (macOS: `brew install tesseract tesseract-lang`)

### å¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# å®‰è£…ä¾èµ– (ä½¿ç”¨uvç®¡ç†)
uv sync

# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®APIå¯†é’¥

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (æ¨èä½¿ç”¨make)
make dev
```

**é‡è¦**: å¼€å‘æœåŠ¡å™¨å¯åŠ¨å§‹ç»ˆä½¿ç”¨ `make dev` å‘½ä»¤ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ã€‚

### è®¿é—®æœåŠ¡

- **ä¸»é¡µ**: http://localhost:8000
- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
ai-tutor/
â”œâ”€â”€ src/ai_tutor/           # ä¸»åº”ç”¨ä»£ç 
â”‚   â”œâ”€â”€ api/v1/               # APIè·¯ç”±å±‚ (FastAPI endpoints)
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ ocr/              # OCRæœåŠ¡æŠ½è±¡ (TesseractOCR)
â”‚   â”‚   â”œâ”€â”€ llm/              # AIæœåŠ¡æŠ½è±¡ (QwenService, KimiService)
â”‚   â”‚   â”‚   â””â”€â”€ prompts/      # æç¤ºè¯æ¨¡æ¿ç³»ç»Ÿ (ç§‘ç›®åŒ–ã€ç‰ˆæœ¬åŒ–)
â”‚   â”‚   â”œâ”€â”€ knowledge/        # çŸ¥è¯†ç‚¹æå–æœåŠ¡
â”‚   â”‚   â””â”€â”€ student/          # å­¦ç”Ÿç›¸å…³æœåŠ¡
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹å±‚ (SQLAlchemy)
â”‚   â”œâ”€â”€ schemas/              # APIæ¨¡å‹ (Pydantic)
â”‚   â””â”€â”€ core/                 # æ ¸å¿ƒé…ç½®
â”œâ”€â”€ tests/                   # æµ‹è¯•æ¨¡å— (å•å…ƒ/é›†æˆ/ç«¯åˆ°ç«¯)
â”œâ”€â”€ static/                  # é™æ€å‰ç«¯æ–‡ä»¶
â””â”€â”€ scripts/                 # å¼€å‘å·¥å…·è„šæœ¬
```

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# ä¾èµ–ç®¡ç† (ä½¿ç”¨uv)
uv sync                     # å®‰è£…ä¾èµ–
uv add package-name         # æ·»åŠ æ–°ä¾èµ–
uv remove package-name      # ç§»é™¤ä¾èµ–

# å¼€å‘æœåŠ¡å™¨ (å¿…é¡»ä½¿ç”¨make)
make dev                    # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
make test                   # è¿è¡Œæµ‹è¯•å¥—ä»¶
make format                 # ä»£ç æ ¼å¼åŒ–
make lint                   # ä»£ç è´¨é‡æ£€æŸ¥
```

## ğŸ¨ æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**: FastAPI + Python 3.12
- **åŒ…ç®¡ç†**: uv (ç°ä»£PythonåŒ…ç®¡ç†å™¨)
- **OCRå¼•æ“**: Tesseract OCR
- **AIæœåŠ¡**: é€šä¹‰åƒé—® (Qwen) / Kimi
- \*\*æ”¯æŒç§‘
  ç›®\*\*: æ•°å­¦ã€ç‰©ç†ã€è‹±è¯­
- **æ•°æ®åº“**: PostgreSQL + Redis
- **æµ‹è¯•**: pytest + pytest-cov
- **ä»£ç è´¨é‡**: black + flake8 + mypy

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” æ™ºèƒ½OCRè¯†åˆ«

- æ”¯æŒä¸­è‹±æ–‡æ··åˆè¯†åˆ«ï¼Œè‡ªåŠ¨å›¾ç‰‡é¢„å¤„ç†

### ğŸ§  AIæ™ºèƒ½æ‰¹æ”¹

- **æ•°å­¦**: ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹ã€å‡½æ•°ã€å‡ ä½•ç­‰
- **ç‰©ç†**: åŠ›å­¦ã€ç”µç£å­¦ã€çƒ­å­¦ã€å…‰å­¦ç­‰
- **è‹±è¯­**: è¯­æ³•ã€è¯æ±‡ã€é˜…è¯»ç†è§£ç­‰

### ğŸ“Š çŸ¥è¯†ç‚¹æå–

- è‡ªåŠ¨è¯†åˆ«é¢˜ç›®æ¶‰åŠçš„çŸ¥è¯†ç‚¹ï¼Œç§‘ç›®åŒ–åˆ†ç±»ç®¡ç†

### ğŸ“ˆ å­¦æƒ…åˆ†æ

- ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®ï¼Œè–„å¼±çŸ¥è¯†ç‚¹è¯†åˆ«ï¼Œå­¦ä¹ è¿›åº¦è·Ÿè¸ª

## ğŸ”§ ç¯å¢ƒé…ç½®

### å¿…éœ€é…ç½® (.env)

```bash
# AIæœåŠ¡é…ç½®
QWEN_API_KEY=your_qwen_api_key_here
KIMI_API_KEY=your_kimi_api_key_here

# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://user:pass@localhost/ai_tutor
REDIS_URL=redis://localhost:6379/0

# åº”ç”¨é…ç½®
SECRET_KEY=your_secret_key_here
OCR_ENGINE=tesseract
DEBUG=True
LOG_LEVEL=INFO
LLM_PROVIDER=qwen
```

## ğŸ› ï¸ å¼€å‘è§„èŒƒ

### ç¼–ç æ ‡å‡†

- **å‡½æ•°**: å•ä¸€èŒè´£ï¼Œé•¿åº¦â‰¤60è¡Œï¼Œå¿…é¡»ç±»å‹æ³¨è§£
- **é”™è¯¯å¤„ç†**: æ˜¾å¼å¼‚å¸¸å¤„ç† (`try...except SpecificError`)
- **å¼‚æ­¥ä¼˜å…ˆ**: æ‰€æœ‰I/Oæ“ä½œä½¿ç”¨ `async/await`
- **æµ‹è¯•è¦†ç›–**: æ ¸å¿ƒåŠŸèƒ½å¿…é¡»æœ‰pytestå•å…ƒæµ‹è¯•

### ä»£ç é£æ ¼

- **æ ¼å¼åŒ–**: Black (line-length=88)
- **æ£€æŸ¥**: flake8 + mypy
- **æäº¤**: è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯ (`feat/fix/docs/refactor`)

### æ—¥å¿—ä½¿ç”¨

```python
from ai_tutor.core.logger import get_logger

logger = get_logger(__name__)
logger.info("Processing homework", student_id="123", subject="math")
```

## ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾

### âœ… å·²å®Œæˆ

- [x] åŸºç¡€æ¶æ„å’ŒOCRæ–‡æœ¬æå–
- [x] AIæ‰¹æ”¹æœåŠ¡ (æ•°å­¦/ç‰©ç†/è‹±è¯­)
- [x] çŸ¥è¯†ç‚¹æå–å’Œå­¦ç”Ÿç®¡ç†æœåŠ¡
- [x] å®Œæ•´æµ‹è¯•æ¡†æ¶ (118ä¸ªå•å…ƒæµ‹è¯•100%é€šè¿‡)

### ğŸš§ è¿›è¡Œä¸­

- [ ] **å­¦ä¹ è¿›åº¦ç®¡ç†æœåŠ¡** - ProgressServiceæ ¸å¿ƒç®—æ³•
- [ ] **æ•°æ®æŒä¹…åŒ–å®Œå–„** - ä½œä¸šæ‰¹æ”¹ç»“æœå®Œæ•´ä¿å­˜
- [ ] **é”™è¯¯æ¨¡å¼åˆ†æ** - æ™ºèƒ½é”™è¯¯è¯†åˆ«å’Œæ”¹è¿›å»ºè®®

### ğŸ“‹ è¿‘æœŸè®¡åˆ’

- [ ] **çŸ¥è¯†å›¾è°±æ„å»º** - æ„å»ºå­¦ç§‘çŸ¥è¯†ç‚¹å…³è”ç½‘ç»œ
- [ ] **å­¦ä¹ æŠ¥å‘Šç”Ÿæˆ** - è‡ªåŠ¨ç”ŸæˆPDFå­¦æƒ…æŠ¥å‘Š
- [ ] **å‰ç«¯ç•Œé¢å®Œå–„** - Vue3 + TypeScriptç•Œé¢

## ğŸ“¡ APIä½¿ç”¨ç¤ºä¾‹

### ä½œä¸šæ‰¹æ”¹

```bash
# æ‰¹æ”¹æ•°å­¦ä½œä¸š
curl -X POST "http://localhost:8000/api/v1/homework/grade" \
  -H "Content-Type: multipart/form-data" \
  -F "file=@math_homework.jpg" \
  -F "subject=math"

# æ”¯æŒç§‘ç›®æŸ¥è¯¢
curl "http://localhost:8000/api/v1/homework/subjects"
# è¿”å›: ["math", "physics", "english"]
```

### è¿”å›æ ¼å¼

```json
{
    "success": true,
    "data": {
        "text": "è¯†åˆ«åˆ°çš„æ–‡æœ¬å†…å®¹",
        "grading_result": {...},
        "knowledge_points": [...]
    },
    "message": "æ‰¹æ”¹å®Œæˆ"
}
```

## ğŸ§ª æµ‹è¯•ç­–ç•¥

```bash
# åˆ†å±‚æµ‹è¯•æ‰§è¡Œ
make test                   # å®Œæ•´æµ‹è¯•å¥—ä»¶
scripts/test-summary.sh     # åˆ†å±‚æµ‹è¯•æŠ¥å‘Š

# æµ‹è¯•åˆ†ç±»
tests/unit/                 # å•å…ƒæµ‹è¯• (2ç§’å®Œæˆ)
tests/integration/          # é›†æˆæµ‹è¯• (15ç§’å®Œæˆ)
tests/e2e/                  # ç«¯åˆ°ç«¯æµ‹è¯• (2-3åˆ†é’Ÿ)
```

## ğŸ› å¸¸è§é—®é¢˜

### OCRé—®é¢˜

```bash
# macOSå®‰è£…Tesseract
brew install tesseract tesseract-lang

# éªŒè¯å®‰è£…
tesseract --version
tesseract --list-langs
```

### ä¾èµ–é—®é¢˜

```bash
# é‡æ–°åŒæ­¥ä¾èµ–
uv sync --force

# æ¸…ç†ç¼“å­˜
make clean
```

## ğŸ”— æ ¸å¿ƒæ–‡æ¡£

- **APIæ–‡æ¡£**: http://localhost:8000/docs
- **æäº¤è§„èŒƒ**: ä½¿ç”¨ `feat/fix/docs/style/refactor/test/chore` å‰ç¼€
- **åˆ†æ”¯ç­–ç•¥**: `main` ä¸ºç¨³å®šåˆ†æ”¯ï¼ŒåŠŸèƒ½å¼€å‘ä½¿ç”¨ `feature/` åˆ†æ”¯
- **å®‰å…¨**: ä¸¥ç¦ç¡¬ç¼–ç å‡­è¯ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿé…ç½®

---

**å¼€å‘æé†’**:

- å§‹ç»ˆä½¿ç”¨ `make dev` å¯åŠ¨æœåŠ¡å™¨
- ä½¿ç”¨ `uv` ç®¡ç†æ‰€æœ‰Pythonä¾èµ–
- æ–°åŠŸèƒ½å¼€å‘éµå¾ªTDD (æµ‹è¯•é©±åŠ¨å¼€å‘)
- ä»£ç æäº¤å‰è¿è¡Œ `make test` å’Œ `make lint`

## ğŸ“œ è®¸å¯è¯

MIT License
